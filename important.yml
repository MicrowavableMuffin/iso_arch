--- # "The important things"
- Dependencies:
  - archiso
- Commands:
  - mkdir archlive:
    purpose: >-
      Create the base image directory as described by the wiki. The care they 
      inspire leads me to believe the name of this folder is hardcoded elsewhere.
    result:
      mkdir: created directory 'archlive'
  - "cp -vr /usr/share/archiso/configs/releng/* archlive":
    purpose: >-
      Copy the releng base config (maximum options) to the archlive folder.
      This will be the skeleton of our install image.
    result: >-
      '/usr/share/archiso/configs/releng/airootfs' -> 'archlive/airootfs'
      '/usr/share/archiso/configs/releng/airootfs/etc' -> 'archlive/airootfs/etc'
      '/usr/share/archiso/configs/releng/airootfs/etc/mkinitcpio.d' -> 'archlive/airootfs/etc/mkinitcpio.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/mkinitcpio.d/linux.preset' -> 'archlive/airootfs/etc/mkinitcpio.d/linux.preset'
      '/usr/share/archiso/configs/releng/airootfs/etc/modprobe.d' -> 'archlive/airootfs/etc/modprobe.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/modprobe.d/broadcom-wl.conf' -> 'archlive/airootfs/etc/modprobe.d/broadcom-wl.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/ssh' -> 'archlive/airootfs/etc/ssh'
      '/usr/share/archiso/configs/releng/airootfs/etc/ssh/sshd_config' -> 'archlive/airootfs/etc/ssh/sshd_config'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd' -> 'archlive/airootfs/etc/systemd'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/journald.conf.d' -> 'archlive/airootfs/etc/systemd/journald.conf.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/journald.conf.d/volatile-storage.conf' -> 'archlive/airootfs/etc/systemd/journald.conf.d/volatile-storage.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/logind.conf.d' -> 'archlive/airootfs/etc/systemd/logind.conf.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/logind.conf.d/do-not-suspend.conf' -> 'archlive/airootfs/etc/systemd/logind.conf.d/do-not-suspend.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/network' -> 'archlive/airootfs/etc/systemd/network'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/network/20-ethernet.network' -> 'archlive/airootfs/etc/systemd/network/20-ethernet.network'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/network/20-wlan.network' -> 'archlive/airootfs/etc/systemd/network/20-wlan.network'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/network/20-wwan.network' -> 'archlive/airootfs/etc/systemd/network/20-wwan.network'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system' -> 'archlive/airootfs/etc/systemd/system'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/getty@tty1.service.d' -> 'archlive/airootfs/etc/systemd/system/getty@tty1.service.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf' -> 'archlive/airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/qemu-guest-agent.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/qemu-guest-agent.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/vboxservice.service' -> 'archlive/airootfs/etc/systemd/system/multi-user.target.wants/vboxservice.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/network-online.target.wants' -> 'archlive/airootfs/etc/systemd/system/network-online.target.wants'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service' -> 'archlive/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/reflector.service.d' -> 'archlive/airootfs/etc/systemd/system/reflector.service.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/reflector.service.d/archiso.conf' -> 'archlive/airootfs/etc/systemd/system/reflector.service.d/archiso.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/sockets.target.wants' -> 'archlive/airootfs/etc/systemd/system/sockets.target.wants'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket' -> 'archlive/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/sound.target.wants' -> 'archlive/airootfs/etc/systemd/system/sound.target.wants'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service' -> 'archlive/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/choose-mirror.service' -> 'archlive/airootfs/etc/systemd/system/choose-mirror.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d' -> 'archlive/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf' -> 'archlive/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service' -> 'archlive/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service' -> 'archlive/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service' -> 'archlive/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/etc-pacman.d-gnupg.mount' -> 'archlive/airootfs/etc/systemd/system/etc-pacman.d-gnupg.mount'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/livecd-alsa-unmuter.service' -> 'archlive/airootfs/etc/systemd/system/livecd-alsa-unmuter.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/livecd-talk.service' -> 'archlive/airootfs/etc/systemd/system/livecd-talk.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/pacman-init.service' -> 'archlive/airootfs/etc/systemd/system/pacman-init.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants' -> 'archlive/airootfs/etc/systemd/system/cloud-init.target.wants'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service' -> 'archlive/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service' -> 'archlive/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service' -> 'archlive/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service' -> 'archlive/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service'
      '/usr/share/archiso/configs/releng/airootfs/etc/hostname' -> 'archlive/airootfs/etc/hostname'
      '/usr/share/archiso/configs/releng/airootfs/etc/locale.conf' -> 'archlive/airootfs/etc/locale.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/localtime' -> 'archlive/airootfs/etc/localtime'
      '/usr/share/archiso/configs/releng/airootfs/etc/mkinitcpio.conf' -> 'archlive/airootfs/etc/mkinitcpio.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/motd' -> 'archlive/airootfs/etc/motd'
      '/usr/share/archiso/configs/releng/airootfs/etc/passwd' -> 'archlive/airootfs/etc/passwd'
      '/usr/share/archiso/configs/releng/airootfs/etc/resolv.conf' -> 'archlive/airootfs/etc/resolv.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/shadow' -> 'archlive/airootfs/etc/shadow'
      '/usr/share/archiso/configs/releng/airootfs/etc/xdg' -> 'archlive/airootfs/etc/xdg'
      '/usr/share/archiso/configs/releng/airootfs/etc/xdg/reflector' -> 'archlive/airootfs/etc/xdg/reflector'
      '/usr/share/archiso/configs/releng/airootfs/etc/xdg/reflector/reflector.conf' -> 'archlive/airootfs/etc/xdg/reflector/reflector.conf'
      '/usr/share/archiso/configs/releng/airootfs/etc/pacman.d' -> 'archlive/airootfs/etc/pacman.d'
      '/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks' -> 'archlive/airootfs/etc/pacman.d/hooks'
      '/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks/40-locale-gen.hook' -> 'archlive/airootfs/etc/pacman.d/hooks/40-locale-gen.hook'
      '/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks/uncomment-mirrors.hook' -> 'archlive/airootfs/etc/pacman.d/hooks/uncomment-mirrors.hook'
      '/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks/zzzz99-remove-custom-hooks-from-airootfs.hook' -> 'archlive/airootfs/etc/pacman.d/hooks/zzzz99-remove-custom-hooks-from-airootfs.hook'
      '/usr/share/archiso/configs/releng/airootfs/root' -> 'archlive/airootfs/root'
      '/usr/share/archiso/configs/releng/airootfs/root/.automated_script.sh' -> 'archlive/airootfs/root/.automated_script.sh'
      '/usr/share/archiso/configs/releng/airootfs/root/.zlogin' -> 'archlive/airootfs/root/.zlogin'
      '/usr/share/archiso/configs/releng/airootfs/usr' -> 'archlive/airootfs/usr'
      '/usr/share/archiso/configs/releng/airootfs/usr/local' -> 'archlive/airootfs/usr/local'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/bin' -> 'archlive/airootfs/usr/local/bin'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/bin/Installation_guide' -> 'archlive/airootfs/usr/local/bin/Installation_guide'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/bin/choose-mirror' -> 'archlive/airootfs/usr/local/bin/choose-mirror'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/bin/livecd-sound' -> 'archlive/airootfs/usr/local/bin/livecd-sound'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/share' -> 'archlive/airootfs/usr/local/share'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/share/livecd-sound' -> 'archlive/airootfs/usr/local/share/livecd-sound'
      '/usr/share/archiso/configs/releng/airootfs/usr/local/share/livecd-sound/asound.conf.in' -> 'archlive/airootfs/usr/local/share/livecd-sound/asound.conf.in'
      '/usr/share/archiso/configs/releng/bootstrap_packages.x86_64' -> 'archlive/bootstrap_packages.x86_64'
      '/usr/share/archiso/configs/releng/efiboot' -> 'archlive/efiboot'
      '/usr/share/archiso/configs/releng/efiboot/loader' -> 'archlive/efiboot/loader'
      '/usr/share/archiso/configs/releng/efiboot/loader/entries' -> 'archlive/efiboot/loader/entries'
      '/usr/share/archiso/configs/releng/efiboot/loader/entries/01-archiso-x86_64-linux.conf' -> 'archlive/efiboot/loader/entries/01-archiso-x86_64-linux.conf'
      '/usr/share/archiso/configs/releng/efiboot/loader/entries/02-archiso-x86_64-speech-linux.conf' -> 'archlive/efiboot/loader/entries/02-archiso-x86_64-speech-linux.conf'
      '/usr/share/archiso/configs/releng/efiboot/loader/entries/03-archiso-x86_64-ram-linux.conf' -> 'archlive/efiboot/loader/entries/03-archiso-x86_64-ram-linux.conf'
      '/usr/share/archiso/configs/releng/efiboot/loader/loader.conf' -> 'archlive/efiboot/loader/loader.conf'
      '/usr/share/archiso/configs/releng/packages.x86_64' -> 'archlive/packages.x86_64'
      '/usr/share/archiso/configs/releng/pacman.conf' -> 'archlive/pacman.conf'
      '/usr/share/archiso/configs/releng/profiledef.sh' -> 'archlive/profiledef.sh'
      '/usr/share/archiso/configs/releng/syslinux' -> 'archlive/syslinux'
      '/usr/share/archiso/configs/releng/syslinux/archiso_head.cfg' -> 'archlive/syslinux/archiso_head.cfg'
      '/usr/share/archiso/configs/releng/syslinux/archiso_pxe-linux.cfg' -> 'archlive/syslinux/archiso_pxe-linux.cfg'
      '/usr/share/archiso/configs/releng/syslinux/archiso_pxe.cfg' -> 'archlive/syslinux/archiso_pxe.cfg'
      '/usr/share/archiso/configs/releng/syslinux/archiso_sys-linux.cfg' -> 'archlive/syslinux/archiso_sys-linux.cfg'
      '/usr/share/archiso/configs/releng/syslinux/archiso_sys.cfg' -> 'archlive/syslinux/archiso_sys.cfg'
      '/usr/share/archiso/configs/releng/syslinux/archiso_tail.cfg' -> 'archlive/syslinux/archiso_tail.cfg'
      '/usr/share/archiso/configs/releng/syslinux/splash.png' -> 'archlive/syslinux/splash.png'
      '/usr/share/archiso/configs/releng/syslinux/syslinux.cfg' -> 'archlive/syslinux/syslinux.cfg'
  - cd archlive:
      purpose: >- 
        enter the build env
      result: no news is good news
...
